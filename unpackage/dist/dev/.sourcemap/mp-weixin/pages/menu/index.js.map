{"version":3,"file":"index.js","sources":["pages/menu/index.vue","../../Program Files/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvbWVudS9pbmRleC52dWU"],"sourcesContent":["<template>\r\n\t<page-meta :page-style=\"'overflow:'+(scrollStop?'hidden':'visible')\"></page-meta>\r\n\t<view class=\"menu-page\">\r\n\t\t<view class=\"bg-dark\"></view>\r\n\t\t<view class=\"main-info p-3 flex column justify-around\">\r\n\t\t\t<text class=\"main-info-logo\">SAP Burger</text>\r\n\t\t\t<view class=\"main-info-intro flex justify-between items-center\">\r\n\t\t\t\t<text class=\"main-info-sub \">欢迎光临，很高兴为你服务</text>\r\n\t\t\t\t<text class=\"main-info-sub \">位置</text>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"reservation-container p-2 radius-base flex items-center\">\r\n\t\t\t\t<text class=\"iconfont icon-time-task\"></text>\r\n\t\t\t\t<text class=\"fs-sm\">预约取餐时间 &gt;</text>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"menu-container\">\r\n\t\t\t<!-- 左侧类目列表 -->\r\n\t\t\t<view class=\" flex\">\r\n\t\t\t\t<view class=\"left\">\r\n\t\t\t\t\t<view v-for=\"(item,index) in category\" :key=\"index\" class=\"categroy p-3\"\r\n\t\t\t\t\t\t:class=\"{'categroy-active':currentCategory==index}\" @tap=\"changeCurCategory(index)\">\r\n\t\t\t\t\t\t{{item.label}}\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<!-- 右侧商品列表 -->\r\n\t\t\t\t<scroll-view scroll-y>\r\n\t\t\t\t\t<view class=\"right flex-1\">\r\n\t\t\t\t\t\t<view v-for=\"(item,index) in category\" class=\"categroy-main p-2\" :key=\"index\">\r\n\t\t\t\t\t\t\t<text class=\"categroy-name fs-lg\">{{item.label}}</text>\r\n\t\t\t\t\t\t\t<view class=\"good flex\" v-for=\"(good,ind) in item.goods\" :key=\"ind\">\r\n\t\t\t\t\t\t\t\t<image class=\"good-img\" :src=\"good.image\"></image>\r\n\t\t\t\t\t\t\t\t<view class=\"flex flex-1 column p-2 justify-between\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"flex column\">\r\n\t\t\t\t\t\t\t\t\t\t<text class=\"good-label fs-md\">{{good.label}}</text>\r\n\t\t\t\t\t\t\t\t\t\t<text class=\"good-sell fs-sm\">月售{{good.sell}}</text>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t<view class=\"flex justify-between items-center\">\r\n\t\t\t\t\t\t\t\t\t\t<text class=\"good-pirce fs-sm\"><text class=\"fs-sm\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle=\"font-weight: 600;\">￥<text\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"fs-md\">{{good.price}}</text></text>/份</text>\r\n\t\t\t\t\t\t\t\t\t\t<SButton @tap=\"pickGood(good)\">选规格</SButton>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</scroll-view>\r\n\t\t\t</view>\r\n\r\n\t\t</view>\r\n\t\t<!-- 商品选择弹窗 -->\r\n\t\t<good-modal ref=\"goodModalRef\" @change=\"get\" :good=\"goodModalItem\"></good-modal>\r\n\t\t<!-- <cart></cart> -->\r\n\t</view>\r\n</template>\r\n<script setup>\r\n\timport {\r\n\t\tnextTick,\r\n\t\tonUpdated,\r\n\t\tref,\r\n\t} from 'vue';\r\n\timport {\r\n\t\tonLoad\r\n\t} from '@dcloudio/uni-app'\r\n\timport goodModal from './goodModal.vue'\r\n\timport cart from './cart.vue';\r\n\tconst category = ref([]) //商品类目\r\n\tconst currentCategory = ref(0) //当前选中的类目\r\n\tconst goodModalRef = ref(null) //选择规格弹窗\r\n\tconst goodModalItem = ref(null) //选择规格弹窗\r\n\tconst scrollStop = ref(false) //控制滚动穿透\r\n\r\n\tonLoad(() => {\r\n\t\t//获取数据\r\n\t\timport('/api/categorys.json').then(res => {\r\n\t\t\tcategory.value = res.default\r\n\t\t})\r\n\t})\r\n\tconst changeCurCategory = (i) => {\r\n\t\tcurrentCategory.value = i\r\n\t}\r\n\tconst pickGood = (good) => {\r\n\t\tgoodModalItem.value = good\r\n\t\tnextTick(() => {\r\n\t\t\tgoodModalRef.value?.open();\r\n\t\t})\r\n\t}\r\n\tconst get = (visible) => {\r\n\t\tconsole.log('父级get', visible)\r\n\t\tscrollStop.value = visible\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\t@import '../../style/common.scss';\r\n\t@import '../../style/iconfont.css';\r\n\r\n\t.menu-page {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\talign-items: center;\r\n\t\tbackground: #fff;\r\n\r\n\t\t.bg-dark {\r\n\t\t\tbackground: $primary-color;\r\n\t\t\theight: 120rpx;\r\n\t\t\twidth: 100%;\r\n\t\t}\r\n\r\n\t\t.main-info {\r\n\t\t\tposition: relative;\r\n\t\t\ttransform: translateY(-100rpx);\r\n\t\t\t// top: -100rpx;\r\n\t\t\twidth: 720rpx;\r\n\t\t\tbackground: #fff;\r\n\t\t\tborder-radius: 20px;\r\n\t\t\theight: 240rpx;\r\n\t\t\tbox-sizing: border-box;\r\n\r\n\t\t\t&-logo {\r\n\t\t\t\tcolor: $gold-color;\r\n\t\t\t\tfont-size: 46rpx;\r\n\t\t\t\tfont-weight: 600;\r\n\t\t\t}\r\n\r\n\t\t\t&-intro {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tcolor: $light-gray;\r\n\t\t\t\tpadding: spacing-size(2) 0;\r\n\t\t\t}\r\n\r\n\t\t\t.reservation-container {\r\n\t\t\t\tbox-sizing: border-box;\r\n\t\t\t\tbackground: $dark-gold;\r\n\t\t\t\tcolor: $text-primary;\r\n\t\t\t\tgap: spacing-size(1);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.menu-container {\r\n\t\t\twidth: 100%;\r\n\t\t\tmargin-top: -100rpx;\r\n\t\t}\r\n\r\n\t\t.left {\r\n\t\t\twidth: 200rpx;\r\n\t\t\theight: 100vh;\r\n\t\t\tz-index: 10;\r\n\t\t\tposition: sticky;\r\n\t\t\ttop: 0;\r\n\t\t\t// border:1px solid blue;\r\n\t\t\tbackground: $primary-color;\r\n\r\n\t\t\t.categroy {\r\n\t\t\t\tbox-sizing: border-box;\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\ttext-align: center;\r\n\t\t\t\tline-height: 2;\r\n\t\t\t\tcolor: $text-primary;\r\n\r\n\t\t\t\t&-active {\r\n\t\t\t\t\tcolor: $text-gold;\r\n\t\t\t\t\tbackground: #fff;\r\n\t\t\t\t\tborder-left: 2px solid $text-gold;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t.right {\r\n\t\t\t.categroy-main {\r\n\t\t\t\tbox-sizing: border-box;\r\n\r\n\t\t\t\t.categroy-name {\r\n\t\t\t\t\tfont-weight: 600;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.good {\r\n\t\t\t\t\tpadding: spacing-size(2);\r\n\r\n\t\t\t\t\t&-img {\r\n\t\t\t\t\t\twidth: 180rpx;\r\n\t\t\t\t\t\theight: 180rpx;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t&-label {\r\n\t\t\t\t\t\tfont-weight: 500;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t&-sell {\r\n\t\t\t\t\t\tcolor: $text-secondary ;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t&-btn {\r\n\t\t\t\t\t\tcolor: $dark-gold;\r\n\t\t\t\t\t\tbackground-color: $primary-color ;\r\n\t\t\t\t\t\t@include radius-size(lg)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\r\n\t\t}\r\n\r\n\r\n\t}\r\n\r\n\r\n\r\n\t// .menu-page {\r\n\t//   display: flex;\r\n\t//   height: 100vh;\r\n\r\n\t//   .category-list {\r\n\t//     width: 200rpx;\r\n\t//     background: #f8f8f8;\r\n\r\n\t//     .category-item {\r\n\t//       padding: 32rpx;\r\n\t//       font-size: 28rpx;\r\n\r\n\t//       &.active {\r\n\t//         background: #fff;\r\n\t//         color: $u-primary;\r\n\t//         font-weight: bold;\r\n\t//       }\r\n\t//     }\r\n\t//   }\r\n\r\n\t//   .product-list {\r\n\t//     flex: 1;\r\n\t//     padding: 20rpx;\r\n\t//   }\r\n\r\n\t//   .cart-sidebar {\r\n\t//     position: fixed;\r\n\t//     right: 40rpx;\r\n\t//     bottom: 200rpx;\r\n\t//     background: #fff;\r\n\t//     padding: 20rpx;\r\n\t//     border-radius: 50%;\r\n\t//     box-shadow: 0 4rpx 12rpx rgba(0,0,0,0.1);\r\n\t//     z-index: 999;\r\n\t//   }\r\n\t// }\r\n</style>","import MiniProgramPage from 'F:/code/BurgerOrder/pages/menu/index.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","onLoad","nextTick","uni"],"mappings":";;;;;;;;;;AAgEC,MAAM,YAAY,MAAW;;;;AAE7B,UAAM,WAAWA,cAAG,IAAC,EAAE;AACvB,UAAM,kBAAkBA,cAAG,IAAC,CAAC;AAC7B,UAAM,eAAeA,cAAG,IAAC,IAAI;AAC7B,UAAM,gBAAgBA,cAAG,IAAC,IAAI;AAC9B,UAAM,aAAaA,cAAG,IAAC,KAAK;AAE5BC,kBAAAA,OAAO,MAAM;AAEZ,8BAAO,wBAAqB,CAAA,EAAE,KAAK,SAAO;AACzC,iBAAS,QAAQ,IAAI;AAAA,MACxB,CAAG;AAAA,IACH,CAAE;AACD,UAAM,oBAAoB,CAAC,MAAM;AAChC,sBAAgB,QAAQ;AAAA,IACxB;AACD,UAAM,WAAW,CAAC,SAAS;AAC1B,oBAAc,QAAQ;AACtBC,oBAAAA,WAAS,MAAM;;AACd,2BAAa,UAAb,mBAAoB;AAAA,MACvB,CAAG;AAAA,IACD;AACD,UAAM,MAAM,CAAC,YAAY;AACxBC,oBAAAA,MAAY,MAAA,OAAA,8BAAA,SAAS,OAAO;AAC5B,iBAAW,QAAQ;AAAA,IACnB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACzFF,GAAG,WAAW,eAAe;"}